!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("lodash"),require("yup"),require("react-table"),require("immutability-helper"),require("rc-slider"),require("rc-tooltip")):"function"==typeof define&&define.amd?define("ampel-ui",["react","lodash","yup","react-table","immutability-helper","rc-slider","rc-tooltip"],t):"object"==typeof exports?exports["ampel-ui"]=t(require("react"),require("lodash"),require("yup"),require("react-table"),require("immutability-helper"),require("rc-slider"),require("rc-tooltip")):e["ampel-ui"]=t(e.react,e.lodash,e.yup,e["react-table"],e["immutability-helper"],e["rc-slider"],e["rc-tooltip"])}(window,function(n,o,i,r,a,l,s){return function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(7);var a,o,i=function(e,t){return Object.assign({},e,t)},r=function(o){return function(e){var t=e.children&&e.children.map(r(o)),n=i(e,{children:t});return o(n)}};(o=a||(a={})).ERROR="ERROR",o.WARNING="WARNING",o.INFO="INFO";var l,s,c,u,p,d=function(e){return Object.keys(e.violations).length},h=function(e,t){return{data:e,violations:t||{}}},f=n(0),m=function(e){return f.createElement("button",{type:e.type||"button",onClick:e.onClick,"data-qa":"button-"+e.id,disabled:e.disabled,className:e.className},e.text)},g=function(t){return f.createElement("input",{id:t.id,type:"checkbox",checked:t.value,"data-qa":"checkbox-"+t.id,onChange:function(e){t.onChange(e.target.checked)},disabled:t.disabled,className:t.className,"aria-checked":t.value})},v=n(4),y=n.n(v),b=n(3),C=n.n(b),E=function(e){return f.createElement("label",{"data-qa":"label--for-"+e.for,htmlFor:e.for,className:"label "+(e.className||"")},""+e.value+(e.append||""))},N=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(){return(O=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},w="rowSelectionColumn",x=function(e){return e.id},k=function(n){function e(e){var t=n.call(this,e)||this;return t.setAll=t.setAll.bind(t),t}return N(e,n),e.prototype.render=function(){return f.createElement("div",{"data-qa":"checkbox-table-"+this.props.id,className:"checkbox-table"},f.createElement(C.a,{data:this.getData(),columns:this.getHeaders(),pageSize:this.props.rows.length,resizable:!1,showPagination:!1,showPaginationTop:!1,showPaginationBottom:!1}))},e.prototype.getData=function(){var o=this;return this.props.rows.map(function(e){var t,n=o.props.data[e.id];return O({},n,((t={})[w]=e.label,t.id=e.id,t))})},e.prototype.getHeaders=function(){var e=this.getColumnHeaders(),t=this.getSelectAllColumnHeader(),n=this.getHiddenIdColumn();return e.unshift(t),e.unshift(n),e},e.prototype.getHiddenIdColumn=function(){return{id:"id",show:!1,accessor:"id",sortable:!1}},e.prototype.getSelectAllColumnHeader=function(){var t=this;return{id:w,sortable:!1,accessor:w,headerClassName:"custom-header",Cell:function(e){return f.createElement("div",null,f.createElement(g,{id:t.props.id+"-table--row-"+e.row.id,value:t.getRowAggregate(e.row.id),disabled:t.isDisabled(t.getAllColumnKeys(),[e.row.id]),onChange:t.setAllRowValues.bind(t,e.row.id)}),f.createElement(E,{for:t.props.id+"-table--row-"+e.row.id,value:e.value}))},Header:function(){return f.createElement("div",null,f.createElement(g,{id:t.props.id+"-select-all-column-header",value:t.getTableAggregate(),disabled:t.isDisabled(t.getAllColumnKeys(),t.getAllRowKeys()),onChange:t.setAll}),f.createElement(E,{for:t.props.id+"-select-all-column-header",value:t.props.selectAllLabel}))}}},e.prototype.getColumnHeaders=function(){var n=this;return this.props.columns.map(function(t){return{id:t.id,sortable:!1,accessor:t.id,headerClassName:"custom-header",Cell:function(e){return f.createElement(g,{id:n.props.id+"-table--row-"+e.row.id+"-col-"+t.id,value:e.value,disabled:n.isDisabledCell(t.id,e.row.id),onChange:n.setCellValue.bind(n,t.id,e.row.id)})},Header:function(){return f.createElement("div",null,f.createElement("span",null,t.label),f.createElement("div",null,f.createElement(g,{id:n.props.id+"-table--header-"+t.id,value:n.getColumnAggregate(t.id),disabled:n.isDisabled([t.id],n.getAllRowKeys()),onChange:n.setAllColumnValues.bind(n,t.id)}),f.createElement(E,{for:n.props.id+"-table--header-"+t.id,value:n.props.selectAllColumnLabel})))}}})},e.prototype.setCellValue=function(e,t,n){var o,i;this.props.onChange(y()(this.props.data,((o={})[t]=((i={})[e]={$set:n},i),o)))},e.prototype.getColumnAggregate=function(t){var n=this,e=this.getData();return!this.getAllRowKeys().filter(function(e){return!n.isDisabledCell(t,e)}).length?e.map(function(e){return e[t]}).every(Boolean):this.isDisabledOrChecked([t],this.getAllRowKeys())},e.prototype.getRowAggregate=function(t){var n=this,o=this.props.data[t];return!this.getAllColumnKeys().filter(function(e){return!n.isDisabledCell(e,t)}).length?this.getAllColumnKeys().map(function(e){return o[e]}).every(Boolean):this.isDisabledOrChecked(this.getAllColumnKeys(),[t])},e.prototype.getTableAggregate=function(){var t=this,e=this.getAllColumnKeys(),n=this.getAllRowKeys();return this.isDisabled(e,n)?this.props.columns.every(function(e){return t.getColumnAggregate(e.id)}):this.isDisabledOrChecked(e,n)},e.prototype.setAllColumnValues=function(e,t){var n=this.getAllRowKeys(),o=this.createUpdate([e],n,t);this.props.onChange(o)},e.prototype.setAllRowValues=function(e,t){var n=this.getAllColumnKeys(),o=this.createUpdate(n,[e],t);this.props.onChange(o)},e.prototype.setAll=function(e){var t=this.getAllColumnKeys(),n=this.getAllRowKeys(),o=this.createUpdate(t,n,e);this.props.onChange(o)},e.prototype.getAllColumnKeys=function(){return this.props.columns.map(x)},e.prototype.getAllRowKeys=function(){return this.props.rows.map(x)},e.prototype.createUpdate=function(e,t,i){var r=this,a=this.props.data;return e.forEach(function(o){t.forEach(function(e){var t,n;r.isDisabledCell(o,e)||(a=y()(a,((t={})[e]=((n={})[o]={$set:i},n),t)))})}),a},e.prototype.isDisabledOrChecked=function(e,n){var o=this,i=this.props.data;return e.every(function(t){return n.every(function(e){return o.isDisabledCell(t,e)||i[e][t]})})},e.prototype.isDisabled=function(e,n){var o=this;return e.every(function(t){return n.every(function(e){return o.isDisabledCell(t,e)})})},e.prototype.isDisabledCell=function(e,t){return Boolean(this.props.meta&&this.props.meta.disabled[t+"."+e])},e}(f.Component),S=function(e,t){return!e||t.toLowerCase().includes(e.toLowerCase())},_=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),V=function(n){function e(e){var t=n.call(this,e)||this;return t.dialog=f.createRef(),t.onKeyupHandler=t.onKeyupHandler.bind(t),t.focus=t.focus.bind(t),t}return _(e,n),e.prototype.componentDidMount=function(){this.focus()},e.prototype.render=function(){return f.createElement("div",{id:this.props.id,className:"dialog",ref:this.dialog,onKeyUp:this.onKeyupHandler,tabIndex:-1,role:"dialog","data-qa":"dialog-"+this.props.id},f.createElement("div",{className:"dialog-content"},f.createElement("div",{className:"dialog-content-header"},f.createElement("h3",{className:"dialog-title"},this.props.title)),f.createElement("div",{className:"dialog-content-body"},this.props.content),f.createElement("div",{className:"dialog-content-footer"},f.createElement(m,{id:"cancel",text:this.props.btnCancelText,className:"btn btn-secondary",onClick:this.props.onCancel}),f.createElement(m,{id:"success",text:this.props.btnConfirmText,className:"btn btn-primary",onClick:this.props.onConfirm}))))},e.prototype.onKeyupHandler=function(e){27===e.keyCode&&this.props.onCancel()},e.prototype.focus=function(){this.dialog.current.focus()},e}(f.Component),H=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=function(){return(A=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},D=f.createContext(null),R=function(n){function e(e){var t=n.call(this,e)||this;return t.state={},t.open=t.open.bind(t),t.close=t.close.bind(t),t.onDialogCancel=t.onDialogCancel.bind(t),t.onDialogConfirm=t.onDialogConfirm.bind(t),t}return H(e,n),e.prototype.render=function(){return f.createElement(D.Provider,{value:{open:this.open}},this.state.dialog&&f.createElement(V,A({},this.state.dialog,{onCancel:this.onDialogCancel,onConfirm:this.onDialogConfirm})),this.props.children)},e.prototype.onDialogConfirm=function(){this.state.dialog&&this.state.dialog.onConfirm(),this.close()},e.prototype.onDialogCancel=function(){this.state.dialog&&this.state.dialog.onCancel&&this.state.dialog.onCancel(),this.close()},e.prototype.open=function(e){this.setState({dialog:e})},e.prototype.close=function(){this.setState({dialog:void 0})},e}(f.Component),P=D.Consumer,I=function(n){return function(t){return f.createElement(P,null,function(e){return f.createElement(n,A({dialog:e},t))})}},T=n(1);(p=u||(u={})).VALID="VALID",p.ERROR="ERROR",p.WARNING="WARNING",p.UNCHANGED="UNCHANGED";var q,L,j,M,F,B=function(e){var t,n;return f.createElement("div",{className:(t=e,n=t.isExpanded?"expanded":"","form-group-accordion group-"+t.validityState.toLowerCase()+" "+n),"data-qa":"form-group-"+e.id},f.createElement("span",{className:"form-group-icon"}),f.createElement("div",{className:"form-group-wrap"},f.createElement("div",{className:"form-group-header"},f.createElement("button",{type:"button",onClick:function(){return e.onClick(e.id)},"data-qa":"form-group--toggle-"+e.id,className:"form-group-toggle"},e.label)),e.isExpanded&&f.createElement("div",{className:"form-group-content"},e.children)))},G=n(2);(L=q||(q={})).TABLE="TABLE",L.ONE_COLUMN="ONE_COLUMN",L.TWO_COLUMNS="TWO_COLUMNS",L.SPLIT_SELECTOR="SPLIT_SELECTOR",(M=j||(j={})).DATE="DATE",M.LONG="LONG",M.NUMBER="NUMBER",M.STRING="STRING",M.BOOLEAN="BOOLEAN",M.INTEGER="INTEGER",(F||(F={})).OPTIONS_SLIDER="OPTIONS_SLIDER",G.addMethod(G.number,"actualNumber",function(){var o=this;return this.transform(function(e,t){var n=t;if("string"==typeof n){if(""===(n=n.replace(/\s/g,"")))return NaN;n=+n}return o.isType(n)?n:parseFloat(n)})});var K,W,U=function(n){var o=[],i=n.constraints;return i&&[a.INFO,a.WARNING,a.ERROR].forEach(function(e){var t=i[e];t&&(n.type===j.NUMBER&&o.push(Z(n.type,e)),n.type===j.INTEGER&&o.push(ee(n.type,e)),t.required&&o.push(J(n.type,e)),t.min&&o.push(Q(n.type,e,t.min)),t.max&&o.push(X(n.type,e,t.max)),t.email&&o.push(Y(n.type,e)),t.pattern&&o.push(te(n.type,e,t.pattern)),t.custom&&o.push.apply(o,t.custom))}),o},z=function(t,e,n){return e.find(function(e){return $(t,e.id,n)})},$=function(e,t,n){return Boolean(e&&e[t]&&e[t].find(function(e){return e.severity===n}))},J=function(n,o){return function(e){var t=ne(n);return G[t]().trim().required().isValid(e).then(function(e){return e?null:oe("is required",o)})}},Q=function(n,o,i){return function(e){var t=ne(n);return G[t]().min(i).isValid(e).then(function(e){return e?null:oe("should be greater than or equal "+i,o)})}},X=function(n,o,i){return function(e){var t=ne(n);return G[t]().max(i).isValid(e).then(function(e){return e?null:oe("should be smaller than or equal "+i,o)})}},Y=function(n,o){return function(e){var t=ne(n);return G[t]().email().isValid(e).then(function(e){return e?null:oe("is not valid email",o)})}},Z=function(n,o){return function(e){var t=ne(n);return G[t]().actualNumber().isValid(e).then(function(e){return e?null:oe("is not number",o)})}},ee=function(e,o){return function(e){var t=String(e),n=t.match(/^[0-9]*$/)&&(!t.startsWith("0")||"0"===t);return Promise.resolve(n?null:oe("is not number",o))}},te=function(n,o,i){return function(e){var t=ne(n);return G[t]().matches(i,{excludeEmptyString:!0}).isValid(e).then(function(e){return e?null:oe("contains illegal characters",o)})}},ne=function(e){return j[e].toString().toLowerCase()},oe=function(e,t){return{message:e,severity:t}},ie=function(e){return e.filter(Boolean)},re=function(t){var e=void 0!==t.value||null!==t.value?t.value:"";return f.createElement("div",{className:"input-component",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},t.prepend&&f.createElement("span",{className:"input-prepend","data-qa":"input--prepend"},t.prepend),f.createElement("input",{id:t.id,type:"text",value:e,onBlur:t.onBlur,onChange:function(e){return t.onChange(e.target.value)},"data-qa":"input--element-"+t.id,className:"form-control "+(t.className||""),placeholder:t.placeholder,disabled:t.disabled,autoFocus:t.autoFocus}),t.append&&f.createElement("span",{className:"input-append","data-qa":"input--append"},t.append))},ae=n(5),le=n.n(ae),se=function(){function e(e){this.options=e.slice(),this.marksToOptions=this.createMarksToOptionsMap(this.options)}return e.prototype.getOption=function(e){return this.marksToOptions[e]},e.prototype.getMarkIndex=function(t){var e=Object.entries(this.marksToOptions).find(function(e){return e[1].value===t});if(!e)return 0;var n=e[0];return parseInt(n,10)},e.prototype.getMarks=function(){return this.marksToOptions},e.prototype.getMaxStepIndex=function(){return this.options.length-1},e.prototype.createMarksToOptionsMap=function(e){return e.reduce(function(e,t,n){return e[n]=t,e},{})},e}(),ce=(K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ue=function(o){function e(e){var t=this;!function(e){if(e.length<2)throw new Error("Expect at least 2 options but got "+e.length)}(e.options),t=o.call(this,e)||this;var n=new se(t.props.options);return t.state={currentValue:n.getMarkIndex(t.props.value),marksWithOptions:n},t.onChange=t.onChange.bind(t),t.onAfterChange=t.onAfterChange.bind(t),t}return ce(e,o),e.prototype.render=function(){return f.createElement("div",{className:"options-slider","data-qa":"options-slider-"+this.props.id},f.createElement(le.a,{max:this.state.marksWithOptions.getMaxStepIndex(),step:1,marks:this.createMarksWithLabelComponents(),value:this.state.currentValue,onChange:this.onChange,onAfterChange:this.onAfterChange}))},e.prototype.createMarksWithLabelComponents=function(){var t=this;return Object(T.mapValues)(this.state.marksWithOptions.getMarks(),function(e){return f.createElement("span",{role:"button",onClick:t.onLabelClick.bind(t,e),"data-qa":"options-slider--mark-"+e.value,className:"options-slider-label"},e.label)})},e.prototype.onLabelClick=function(e){this.props.onChange(e.value)},e.prototype.onChange=function(e){this.setState({currentValue:e})},e.prototype.onAfterChange=function(e){var t=this.state.marksWithOptions.getOption(e);this.props.onChange(t.value)},e}(f.Component),pe=(W=function(e,t){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),de=function(n){function e(e){var t=n.call(this,e)||this;return t.state={expanded:!1},t.setNode=t.setNode.bind(t),t.onKeyPressed=t.onKeyPressed.bind(t),t.handleGlobalClick=t.handleGlobalClick.bind(t),t.handleOptionClick=t.handleOptionClick.bind(t),t.toggleOptionsList=t.toggleOptionsList.bind(t),t.collapseOptionsList=t.collapseOptionsList.bind(t),t}return pe(e,n),e.prototype.componentWillMount=function(){document.addEventListener("mousedown",this.handleGlobalClick,!1)},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleGlobalClick,!1)},e.prototype.render=function(){var e=this.getLabel();return f.createElement("div",{ref:this.setNode,role:"button",tabIndex:-1,onKeyDown:this.onKeyPressed,className:"select-component"},f.createElement("a",{role:"button",onClick:this.toggleOptionsList,"data-qa":"select--toggle-"+this.props.id,className:"select-option-toggle","aria-haspopup":"listbox"},f.createElement("span",{className:"text","data-qa":"select--toggle-text-"+this.props.id},e),f.createElement("span",{className:"arrow"})),this.state.expanded&&this.getOptionsList())},e.prototype.getOptionsList=function(){var o=this;return f.createElement("ul",{className:"select-option-items","data-qa":"select--option-items-"+this.props.id},this.props.options.map(function(e,t){var n=o.isSelected(e)?"selected ":"";return f.createElement("li",{key:t,role:"option",onClick:o.handleOptionClick.bind(o,e.value),"data-qa":"select--option-"+e.label,className:"item "+n,"aria-selected":o.isSelected(e)},e.label)}))},e.prototype.getLabel=function(){var t=this,e=this.props.options.find(function(e){return Object(T.isEqual)(e.value,t.props.value)});return e&&e.label||this.props.placeholder},e.prototype.setNode=function(e){this.node=e},e.prototype.onKeyPressed=function(e){27===e.keyCode&&this.collapseOptionsList()},e.prototype.handleGlobalClick=function(e){this.node.contains(e.target)||this.collapseOptionsList()},e.prototype.collapseOptionsList=function(){this.state.expanded&&this.toggleOptionsList()},e.prototype.handleOptionClick=function(e){this.toggleOptionsList(),e!==this.props.value&&this.props.onChange(e)},e.prototype.toggleOptionsList=function(){this.setState(function(e){return{expanded:!e.expanded}})},e.prototype.isSelected=function(e){return Object(T.isEqual)(this.props.value,e.value)},e}(f.Component),he=de,fe=de,me=[a.ERROR,a.WARNING,a.INFO],ge=function(n){var e=me.find(function(e){return t=e,n.some(function(e){return e.severity===t});var t});return e&&e.toLocaleLowerCase()||""},ve=function(e){var t=e.violations[0]&&e.violations[0].message,n=ge(e.violations)+(e.className||"");return f.createElement("div",{className:"violation "+n,"data-qa":"violation-component"},t&&f.createElement(f.Fragment,null,f.createElement("span",{className:"violation-icon","data-qa":"violation--icon"}),f.createElement("span",{className:"violation-text","data-qa":"violation--text-"+e.id},t)))},ye=function(e){var t=ge(e.violations),n=e.required?"*":"";return e.hidden?null:f.createElement("div",{className:"row form-group "+(e.align||"middle")+"-xs"},f.createElement("div",{className:"col-xs-2 form-label-container "+t},f.createElement(E,{value:e.label,append:n,for:e.id})),f.createElement("div",{className:"col-xs-5 "+t},e.children),f.createElement("div",{className:"col-xs-5 "+t},f.createElement(ve,{id:e.id,violations:e.violations})))},be=function(e){var t=e.field,n=e.fieldContext;return f.createElement(ye,{id:t.id,key:t.id,label:t.label,violations:n.violations},f.createElement(g,{id:t.id,value:n.value,onChange:n.setValue}))},Ce=function(e){var t=e.field,n=e.fieldContext,o=t.constraints&&t.constraints.ERROR&&t.constraints.ERROR.required,i=t.options,r=i&&(Array.isArray(i)?i:n.sectionContext.getValue(i.field));return f.createElement(ye,{id:t.id,key:t.id,label:t.label,required:o,violations:n.violations,hidden:t.hidden},t.editor===F.OPTIONS_SLIDER?f.createElement(ue,{id:t.id,value:n.value,options:r,onChange:n.setValue}):r?f.createElement(de,{id:t.id,value:n.value,options:r,onChange:n.setValue,placeholder:t.placeholder}):f.createElement(re,{id:t.id,value:n.value,onBlur:n.handleBlur,append:t.append,prepend:t.prepend,onChange:n.setValue,placeholder:t.placeholder}))},Ee={parse:function(e){return e},format:function(e){return e},editorFactory:function(e,t){return f.createElement(Ce,{key:t.id,fieldContext:e,field:t})}},Ne={parse:function(e){return Number.parseFloat(e)},format:function(e){return""+e},editorFactory:function(e,t){return f.createElement(Ce,{key:t.id,fieldContext:e,field:t})}},Oe={parse:function(e){return e},format:function(e){return e},editorFactory:function(e,t){return f.createElement(be,{key:t.id,fieldContext:e,field:t})}},we={parse:function(e){return Number.parseInt(e,10)},format:function(e){return""+e},editorFactory:function(e,t){return f.createElement(Ce,{key:t.id,fieldContext:e,field:t})}},xe=new Map;xe.set(j.STRING,Ee),xe.set(j.NUMBER,Ne),xe.set(j.BOOLEAN,Oe),xe.set(j.INTEGER,we);var ke=new Map;ke.set(q.ONE_COLUMN,function(o){return o.section.fields.map(function(e){var t={value:o.getValue(e.id),setValue:o.getValueSetter(e.id),violations:o.getFieldViolations(e.id),handleBlur:o.getBlurHandler(e.id),sectionContext:o,fieldTypeDefinition:He(e.type)};if(e.hidden)return null;if(e.render)return e.render(t,e);var n=t.fieldTypeDefinition.editorFactory;return n&&n(t,e)})});var Se,_e,Ve,He=function(e){var t=xe.get(e);if(!t)throw new Error("The requested FieldType < "+e+" > is not known.");return t},Ae=(Se=function(e,t){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),De=function(e){return-1<[q.ONE_COLUMN,q.TWO_COLUMNS].indexOf(e.type)},Re=function(e){return Object(T.flatMapDeep)(e.map(function(e){return e.sections.filter(De).map(function(e){return e.fields})}))},Pe=function(){},Ie=function(n){function e(e){var t=n.call(this,e)||this;return t.state={model:t.props.model,isDirty:!1,isValid:!0,violations:t.props.violations||{},initialModel:t.props.model,isSubmitting:!1,expandedGroupId:t.props.children[0].id},t.validationOptions=Object.assign(t.props.validationOptions||{},{onBlur:!0,onSubmit:!0,onChange:!0,delayMillis:200}),t.onSubmit=t.onSubmit.bind(t),t.getValue=t.getValue.bind(t),t.onGroupClick=t.onGroupClick.bind(t),t.setViolations=t.setViolations.bind(t),t.getValueSetter=t.getValueSetter.bind(t),t.getBlurHandler=t.getBlurHandler.bind(t),t.computeValidState=t.computeValidState.bind(t),t.getFieldViolations=t.getFieldViolations.bind(t),t.debouncedSetViolations=Object(T.debounce)(t.setViolations,t.validationOptions.delayMillis),t}return Ae(e,n),e.prototype.render=function(){return f.createElement("form",{onSubmit:this.onSubmit,className:"form"},this.resolveGroups(this.props.children),f.createElement("div",{className:"row end-xs"},f.createElement("div",{className:"col-xs-12"},this.props.onCancel&&this.getCancelButton(),f.createElement(m,{id:"form",text:this.props.submitButtonText,type:"submit",className:"btn btn-primary",disabled:this.state.isSubmitting||!this.state.isDirty||!this.state.isValid}))))},e.prototype.componentWillMount=function(){this.createChangeHandlers(),this.createBlurHandlers()},e.prototype.componentDidMount=function(){this.createValidationSchema(this.props.children),this.computeValidState()},e.prototype.componentDidUpdate=function(e,t){Object(T.isEqual)(this.state.model,t.model)||this.computeDirtyState(),Object(T.isEqual)(this.state.violations,t.violations)||this.computeValidState(),Object(T.isEqual)(this.props.violations,e.violations)||this.computeValidState(),Object(T.isEqual)(this.state.initialModel,t.initialModel)||this.computeDirtyState()},e.prototype.getCancelButton=function(){return f.createElement(m,{id:"cancel-example",text:this.props.cancelButtonText,type:"button",onClick:this.props.onCancel,className:"btn btn-secondary"})},e.prototype.resolveGroups=function(e){var t=this;return e.map(function(e){return f.createElement(B,{id:e.id,key:e.id,label:e.label,onClick:t.onGroupClick,isExpanded:t.isCurrentlyExpandedGroupId(e.id),validityState:t.getValidityState(e)},t.resolveGroup(e))})},e.prototype.getValidityState=function(e){var t,n,o,i=Re([e]),r=this.containsChanges(i);return t=this.state.violations,o=r,z(t,n=i,a.ERROR)?u.ERROR:z(t,n,a.WARNING)?u.WARNING:o?u.VALID:u.UNCHANGED},e.prototype.containsChanges=function(e){var t=this;return Boolean(e.find(function(e){return t.getValue(e.id)!==t.getInitialValue(e.id)}))},e.prototype.onGroupClick=function(e){this.isCurrentlyExpandedGroupId(e)?this.setState({expandedGroupId:null}):this.setState({expandedGroupId:e})},e.prototype.isCurrentlyExpandedGroupId=function(e){return this.state.expandedGroupId===e},e.prototype.resolveGroup=function(e){var t=this;return e.sections.filter(De).map(function(e){return t.resolveSection(e)})},e.prototype.resolveSection=function(e){var t=this.getElements(e);return f.createElement("div",{id:e.id,key:e.id},t)},e.prototype.getElements=function(e){var t,n=(t=e.type,ke.get(t));return n?n({section:e,getValue:this.getValue,getBlurHandler:this.getBlurHandler,getValueSetter:this.getValueSetter,getFieldViolations:this.getFieldViolations}):null},e.prototype.getValueSetter=function(e){return this.valueSetters[e]},e.prototype.getValue=function(e){return function(e,t){if(!Object(T.has)(e,t))throw new Error("No model for property < "+t+" > given.")}(this.state.model,e),Object(T.get)(this.state.model,e)},e.prototype.getInitialValue=function(e){return Object(T.get)(this.state.initialModel,e)},e.prototype.getBlurHandler=function(e){return this.blurHandlers[e]},e.prototype.getFieldViolations=function(e){return this.state.violations&&this.state.violations[e]||[]},e.prototype.validate=function(e,t){var n,o,i,r=this.schema[e],a=this.state.model;return n=t,o=a,i=r.map(function(e){return e(n,o)}),Promise.all(i).then(ie)},e.prototype.computeDirtyState=function(){var e=!Object(T.isEqual)(this.state.model,this.state.initialModel);this.setState({isDirty:e})},e.prototype.computeValidState=function(){var e=this.isValid();return this.setStateAsync({isValid:e})},e.prototype.isValid=function(){return Re(this.props.children).map(function(e){return e.id}).map(this.getFieldViolations).every(function(e){return!e.length})},e.prototype.onSubmit=function(e){var t=this;e.preventDefault(),this.setSubmitting(!0),this.validateForm().then(this.computeValidState).then(function(e){if(e.isValid)return t.submitForm();t.setSubmitting(!1)})},e.prototype.submitForm=function(){var n=this,e=this.parseModel(),t=h(e,this.state.violations);this.props.onSubmit(t).then(function(e){return n.setSubmitting(!1),n.commitCurrentModel(),e}).catch(function(e){var t=e.violations;t&&n.setState({violations:t}),n.setSubmitting(!1),n.computeDirtyState()})},e.prototype.validateForm=function(){var n=this;return Promise.all(Re(this.props.children).map(function(e){return e.id}).map(function(e){var t=n.getValue(e);return n.setViolations(e,t)}))},e.prototype.parseModel=function(){var o=this,e=Re(this.props.children);return e.reduce(function(e,t){var n;return Object(T.set)(e,t.id,He((n=t).type).parse(o.getValue(n.id))),e},{})},e.prototype.commitCurrentModel=function(){this.setState(function(e){return{initialModel:e.model}})},e.prototype.setSubmitting=function(e){this.setState({isSubmitting:e})},e.prototype.createBlurHandlers=function(){var t=this,e=Re(this.props.children);this.blurHandlers=this.createFieldMap(e,function(e){return t.createBlurHandler(e.id)})},e.prototype.createBlurHandler=function(e){var t=this;return this.validationOptions.onBlur?function(){return t.setViolations(e,t.getValue(e))}:Pe},e.prototype.createChangeHandlers=function(){var t=this,e=Re(this.props.children);this.valueSetters=this.createFieldMap(e,function(e){return t.createValueSetter(e.id)})},e.prototype.createValueSetter=function(t){var n=this;return function(e){n.validationOptions.onChange&&(n.validationOptions.delayMillis?n.debouncedSetViolations(t,e):n.setViolations(t,e)),n.setValue(t,e)}},e.prototype.setValue=function(n,o){this.setState(function(e){var t=Object.assign({},e.model);return t[n]=o,{model:t}})},e.prototype.setViolations=function(o,e){var t=this;return this.validate(o,e).then(function(n){return new Promise(function(e){t.setState(function(e){var t=Object.assign({},e.violations);return t[o]=n,{violations:t}},e)})})},e.prototype.createValidationSchema=function(e){var t=Re(e),n=this.createFieldMap(t,U);this.schema=n},e.prototype.createFieldMap=function(e,n){return e.reduce(function(e,t){return e[t.id]=n(t),e},{})},e.prototype.setStateAsync=function(t){var n=this;return new Promise(function(e){n.setState(t,function(){e(t)})})},e}(f.Component);(Ve=_e||(_e={}))[Ve.CHECKED=0]="CHECKED",Ve[Ve.UNCHECKED=1]="UNCHECKED",Ve[Ve.INDETERMINATE=2]="INDETERMINATE";var Te,qe,Le,je,Me=function(e){var t=e.value!==_e.UNCHECKED,n=e.value===_e.INDETERMINATE?"indeterminate":"";return f.createElement(g,{id:e.id,className:n,value:t,onChange:function(){return e.onChange(e.value===_e.UNCHECKED)}})},Fe=function(e){return Boolean(e.children&&e.children.length)},Be=function(n,e){return Fe(e)?e.children.reduce(function(e,t){return e+Be(n,t)},0):n(e)?1:0},Ge=Be.bind(null,function(e){return e.value}),Ke=Be.bind(null,function(){return!0}),We=function(e){return Fe(e)?e.children.reduce(function(e,t){if(null===e)return We(t);var n=We(t);return e===_e.CHECKED&&n===_e.CHECKED?_e.CHECKED:e===_e.UNCHECKED&&n===_e.UNCHECKED?_e.UNCHECKED:_e.INDETERMINATE},null):Boolean(e.value)?_e.CHECKED:_e.UNCHECKED},Ue=function(e){return Fe(e)&&(e.children||[]).map(We).filter(function(e){return e===_e.CHECKED}).length===e.children.length},ze=function(t){return f.createElement("div",{className:"node-box","data-qa":"container-"+t.levelHeaderLabel},f.createElement("span",{className:"icon"}),f.createElement("div",{className:"header"},f.createElement("h3",{className:"header-label","data-qa":"header-label-"+t.id},t.levelHeaderLabel)),f.createElement("div",{className:"select-all"},f.createElement(g,{id:"select-all-"+t.id,value:Ue(t.node),onChange:t.onSelectAll.bind(null,t.node)}),f.createElement(E,{for:"select-all-"+t.id,value:t.selectAllLabel})),f.createElement("ul",{className:"node-list"},Fe(t.node)&&t.node.children.map(function(e){return f.createElement("li",{key:e.id,role:"listitem","data-qa":"node-"+e.label,onClick:t.onNodeClick.bind(null,e),className:"node-list-item"},f.createElement("div",null,f.createElement(Me,{id:"node-"+e.id,value:We(e),onChange:t.setNodeValue.bind(null,e)}),f.createElement(E,{for:"node-"+e.id,value:e.label})),Fe(e)?f.createElement("span",{className:"child-node-count","data-qa":"node-label-"+e.id},Ge(e)+" / "+Ke(e)):null)})))},$e=(Te=function(e,t){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Te(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qe=function(n){function e(e){var t=n.call(this,e)||this;return t.state={selectedNodeIds:[]},t.findNode=t.findNode.bind(t),t.selectNode=t.selectNode.bind(t),t.setNodeValue=t.setNodeValue.bind(t),t.setValueRecursively=t.setValueRecursively.bind(t),t}return $e(e,n),e.prototype.render=function(){var n=this;return f.createElement("div",{className:"multi-level-checkbox-editor","data-qa":"multi-level-checkbox-editor-"+this.props.id},this.getNodes().map(function(e,t){return Fe(e)&&f.createElement("div",{key:e.id,style:{width:100/n.props.levelHeaderLabels.length+"%"}},f.createElement(ze,{id:""+t,node:e,onSelectAll:n.setNodeValue,onNodeClick:n.selectNode.bind(n,t),setNodeValue:n.setNodeValue,selectAllLabel:n.props.selectAllLabel,levelHeaderLabel:n.props.levelHeaderLabels[t]}))}))},e.prototype.getNodes=function(){return[this.getSyntheticRootNode()].concat(this.state.selectedNodeIds.map(this.findNode))},e.prototype.getSyntheticRootNode=function(){return{id:"_ROOT",label:"",children:this.props.nodes}},e.prototype.selectNode=function(n,o){this.setState(function(e){var t=e.selectedNodeIds.slice(0,n);return o.children&&o.children.length&&t.push(o.id),{selectedNodeIds:t}})},e.prototype.setNodeValue=function(t,e){var n=this.props.nodes.map(r(this.createSetValueWalker(function(e){return"_ROOT"===t.id||e.id===t.id},e)));this.props.onNodesChange(n)},e.prototype.setValueRecursively=function(e,t){var n=Je({},t,{value:e});return Fe(n)&&(n.children=n.children.map(this.setValueRecursively.bind(this,e))),n},e.prototype.createSetValueWalker=function(t,n){var o=this;return function(e){return t(e)?o.setValueRecursively(n,e):e}},e.prototype.findNode=function(t){var n=null;if(this.props.nodes.forEach(r(function(e){return e.id===t&&(n=e),e})),!n)throw new Error("Unable to find node with id '"+t+"'");return n},e}(f.Component),Xe=(qe=function(e,t){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}qe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(je=Le||(Le={})).SUCCESS="success",je.ERROR="error",je.INFO="info";var Ye,Ze,et,tt,nt,ot,it=function(n){function e(e){var t=n.call(this,e)||this;return t.icons={success:"wti-check",error:"wti-error",info:"wti-info"},t.setTimer=t.setTimer.bind(t),t.clearTimer=t.clearTimer.bind(t),t}return Xe(e,n),e.prototype.componentDidMount=function(){this.setTimer()},e.prototype.componentWillUnmount=function(){this.clearTimer()},e.prototype.render=function(){var e=this.props,t=e.id,n=e.type,o=e.message,i=e.onClose;return f.createElement("div",{id:t,className:"notification notification-"+n,onClick:i,onMouseEnter:this.clearTimer,onMouseLeave:this.setTimer,role:"alert","data-qa":"notification-"+n},f.createElement("div",{className:"notification-icon"},f.createElement("span",{className:"wt-icon "+this.icons[n]})),f.createElement("div",{className:"notification-message"},o),f.createElement("div",{className:"notification-action"},f.createElement("span",{className:"wt-icon wti-close"})))},e.prototype.setTimer=function(){var e=this;this.timer=setTimeout(function(){e.props.onClose()},5e3)},e.prototype.clearTimer=function(){clearTimeout(this.timer)},e}(f.Component),rt=(Ye=function(e,t){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ye(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),at=function(){return(at=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lt=f.createContext(null),st=function(n){function e(e){var t=n.call(this,e)||this;return t.state={notifications:[]},t.show=t.show.bind(t),t.hide=t.hide.bind(t),t}return rt(e,n),e.prototype.show=function(e){var t=at({},e,{id:Date.now().toString()});this.setState(function(e){return{notifications:e.notifications.concat([t])}})},e.prototype.hide=function(t){this.setState(function(e){return{notifications:e.notifications.filter(function(e){return t.id!==e.id})}})},e.prototype.render=function(){var t=this;return f.createElement(lt.Provider,{value:{show:this.show}},f.createElement("div",{className:"notification-wrapper","data-qa":"notification-wrapper"},this.state.notifications.map(function(e){return f.createElement(it,{id:e.id,type:e.type,message:e.message,onClose:function(){return t.hide(e)},key:e.id})})),this.props.children)},e}(f.Component),ct=lt.Consumer,ut=function(n){return function(t){return f.createElement(ct,null,function(e){return f.createElement(n,at({notifications:e},t))})}},pt=function(n){var o=function(e){n.onChange(e.currentTarget.value)};return f.createElement(f.Fragment,null,n.options.map(function(e,t){return f.createElement("div",{className:"radio "+(n.className||""),key:t},f.createElement("input",{id:n.id+"-"+t,type:"radio",name:n.name,value:e.value,"aria-checked":e.value===n.value,checked:e.value===n.value,onChange:o,"data-qa":"radio-"+n.id+"-"+t}),f.createElement("label",{htmlFor:n.id},e.label))}))},dt=(Ze=function(e,t){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ht=function(n){function o(e){var t=n.call(this,e)||this;return t.isExpanded=t.isExpanded.bind(t),t.hasChildren=t.hasChildren.bind(t),t.handleClick=t.handleClick.bind(t),t.isChildrenVisible=t.isChildrenVisible.bind(t),t}return dt(o,n),o.prototype.render=function(){return f.createElement("li",{role:"listitem",onClick:this.handleClick,"data-qa":"node-"+this.props.node.id,className:"node "+this.getHightlightedCLass()+" level-"+this.getLevel()},f.createElement("div",{className:"node-content"},f.createElement("span",{className:this.getClasses(),"data-qa":"node--icon-"+this.props.node.id}),f.createElement("span",{className:"node-label"},this.props.node.label),this.isChildrenVisible()&&f.createElement("ul",{className:"nodes"},this.getChildNodes())))},o.prototype.getHightlightedCLass=function(){return this.isHighlighted()?"highlighted":""},o.prototype.getChildNodes=function(){var t=this;return this.props.node.children.map(function(e){return f.createElement(o,{node:e,key:e.id,level:t.getNextLevel(),onNodeClick:t.props.onNodeClick})})},o.prototype.getLevel=function(){return this.props.level||1},o.prototype.getNextLevel=function(){return this.getLevel()+1},o.prototype.getClasses=function(){return this.props.node.classes?this.props.node.classes:this.hasChildren()?this.getToggleClass():"no-child"},o.prototype.getToggleClass=function(){return this.isExpanded()?"expanded":"collapsed"},o.prototype.handleClick=function(e){e.stopPropagation(),this.props.onNodeClick&&this.props.onNodeClick(this.props.node)},o.prototype.isChildrenVisible=function(){return this.hasChildren()&&this.isExpanded()},o.prototype.isExpanded=function(){return this.props.node.isExpanded},o.prototype.isHighlighted=function(){return this.props.node.isHighlighted},o.prototype.hasChildren=function(){return 0<(this.props.node.children||[]).length},o}(f.Component),ft=(et=function(e,t){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),mt=function(n){function e(e){var t=n.call(this,e)||this;return t.state={nodes:e.nodes.slice()},t.onNodeClick=t.onNodeClick.bind(t),t.createExpandWalker=t.createExpandWalker.bind(t),t.isOrContainsExpanded=t.isOrContainsExpanded.bind(t),t.createHighlightWalker=t.createHighlightWalker.bind(t),t.isOrContainsHighlighted=t.isOrContainsHighlighted.bind(t),t}return ft(e,n),e.prototype.componentDidMount=function(){this.props.highlightedNodeId&&this.highlight(this.props.highlightedNodeId)},e.prototype.componentDidUpdate=function(e,t){var n=this;this.props.highlightedNodeId!==e.highlightedNodeId&&this.highlight(this.props.highlightedNodeId||""),this.treeDidChange(e.nodes,this.props.nodes)&&this.setState({nodes:this.props.nodes},function(){n.highlight(n.props.highlightedNodeId||"")})},e.prototype.render=function(){var t=this;return f.createElement("div",{role:"tree",className:"tree","data-qa":"tree"},this.state.nodes.length&&f.createElement("ul",{className:"nodes"},this.state.nodes.map(function(e){return f.createElement(ht,{node:e,key:e.id,onNodeClick:t.onNodeClick})})))},e.prototype.treeDidChange=function(e,t){return this.props.treeDidChange?this.props.treeDidChange(e,t):!Object(T.isEqual)(e,t)},e.prototype.onNodeClick=function(e){this.props.onNodeClick&&this.props.onNodeClick(e),this.highlight(e.id)},e.prototype.highlight=function(e){var t=this.state.nodes.map(r(this.createHighlightWalker(e))).map(r(this.createExpandWalker(e)));this.setState({nodes:t})},e.prototype.createHighlightWalker=function(n){var o=this;return function(e){var t=o.isOrContainsHighlighted(n,e);return i(e,{isHighlighted:t})}},e.prototype.createExpandWalker=function(n){var o=this;return function(e){if(o.isTargetNode(n,e))return i(e,{isExpanded:!e.isExpanded});var t=o.isOrContainsExpanded(n,e);return i(e,{isExpanded:t})}},e.prototype.isOrContainsHighlighted=function(t,e){var n=this;return this.isTargetNode(t,e)||Boolean(e.children&&e.children.filter(function(e){return n.isOrContainsHighlighted(t,e)}).length)},e.prototype.isOrContainsExpanded=function(t,e){var n=this;return this.isTargetNode(t,e)||Boolean(e.children&&e.children.filter(function(e){return n.isOrContainsExpanded(t,e)}).length)},e.prototype.isTargetNode=function(e,t){return e===t.id},e}(f.Component),gt=function(e){return f.createElement("div",{className:"sidebar-footer","data-qa":"sidebar-footer"},f.createElement("ul",{className:"items"},e.actions.map(function(e){return f.createElement("li",{key:e.id,role:"menuitem",onClick:e.onClick.bind(null,e.id),"data-qa":"sidebar-footer--item-"+e.id,className:"item"},f.createElement("div",{className:"item-content"},f.createElement("span",{className:e.classes}),f.createElement("span",{className:"item-label"},e.label)))})))},vt=function(e){return f.createElement("nav",{className:"sidebar","data-qa":"sidebar"},f.createElement(mt,{nodes:e.treeNodes,onNodeClick:e.onNodeClick,highlightedNodeId:e.highlightedNodeId}),f.createElement(gt,{actions:e.footerItems}))},yt=function(){return f.createElement("div",{className:"spinner"},f.createElement("div",{className:"spinner-element"},f.createElement("div",{className:"spinner-container"},f.createElement("ul",{className:"spinner-circles","data-qa":"spinner"},f.createElement("li",{className:"spinner-circle spinner-circle-1"}),f.createElement("li",{className:"spinner-circle spinner-circle-2"}),f.createElement("li",{className:"spinner-circle spinner-circle-3"})))))},bt=function(t,n){var e=function(e){t.contains(e.target)||n()};return document.addEventListener("click",e,!1),function(){return document.removeEventListener("click",e,!1)}},Ct=n(6),Et=n.n(Ct),Nt=function(e){return e.text?f.createElement(Et.a,{overlay:e.text,trigger:["hover"],placement:e.placement||"top",mouseLeaveDelay:0,destroyTooltipOnHide:!0},e.children):f.createElement(f.Fragment,null,e.children)},Ot=function(){return(Ot=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},xt=function(e){var t=e.id,n=wt(e,["id"]);return f.createElement("button",Ot({key:t,type:"button","data-qa":"table-pagination--"+t},n))},kt=function(e){var t=e.page,n=e.pages,o=e.pageSizeOptions,i=e.pageSize,r=e.canPrevious,a=e.canNext,l=e.ofText,s=e.pageText,c=e.rowsText,u=e.onPageSizeChange,p=e.onPageChange;return f.createElement("div",{className:"table-pagination"},f.createElement("div",{className:"table-pagination-buttons"},[{id:"first",onClick:function(){return p(0)},disabled:!r,className:"table-pagination-button table-pagination-first"},{id:"previous",onClick:function(){return p(t-1)},disabled:!r,className:"table-pagination-button table-pagination-previous"},{id:"next",onClick:function(){return p(t+1)},disabled:!a,className:"table-pagination-button table-pagination-next"},{id:"last",onClick:function(){return p(n)},disabled:!a,className:"table-pagination-button table-pagination-last"}].map(xt)),f.createElement("div",{className:"pagination-current-page"},s,f.createElement("input",{type:"number",value:t+1,"data-qa":"table-pagination--page-spin",onChange:function(e){return p(Number(e.target.value)-1)},className:"pagination-current-page-spin","aria-valuemax":n,"aria-valuemin":1,"aria-valuenow":t}),l," ",n),f.createElement("div",{className:"pagination-rows"},f.createElement(de,{id:"table-pagination-rows",value:i,options:o.map(function(e){return{value:e,label:e+" "+c}}),onChange:function(e){return u(Number(e))}})))},St=function(t){return f.createElement("div",{className:"search-bar"},f.createElement("input",{type:"text","data-qa":"table--search-bar",onChange:function(e){return t.onFilterChange(e.target.value)},className:"search-bar-filter",placeholder:t.searchPlaceholder}),f.createElement("span",{className:"search-bar-icon"}))},_t=function(e){return f.createElement("div",{className:"table-top"},f.createElement(St,{onFilterChange:e.onFilterChange,searchPlaceholder:e.searchPlaceholder}),!e.hidePagination&&f.createElement(kt,Ot({},e)))},Vt=(tt=function(e,t){return(tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ht=function(){return(Ht=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};(ot=nt||(nt={})).DESC="desc",ot.ASC="asc";var At,Dt,Rt,Pt=function(t){function e(e){var n=t.call(this,e)||this;return n.createDefaultCellRenderer=function(t){return function(e){return f.createElement("span",{"data-qa":"table--row-"+e.viewIndex+"-col-"+t.id},n.stringValue(e.value))}},n.state={page:0,searchValue:""},n.rowFilter=n.rowFilter.bind(n),n.mapColumns=n.mapColumns.bind(n),n.onFilterChange=n.onFilterChange.bind(n),n.paginationPropsEnhancer=n.paginationPropsEnhancer.bind(n),n}return Vt(e,t),e.prototype.render=function(){var e=this.getData();return f.createElement("div",{"data-qa":"table-"+this.props.id,className:"table"},f.createElement(C.a,{data:e,ofText:this.props.ofText,columns:this.getColumns(),pageText:this.props.pageText,pageSize:this.getPageSize(e.length),resizable:!1,showPagination:!0,NoDataComponent:function(){return f.createElement("div",null)},showPaginationTop:!0,getPaginationProps:this.paginationPropsEnhancer,PaginationComponent:_t,showPaginationBottom:!1,defaultSorted:this.getSortingRules(),minRows:this.props.minRows,getTrProps:this.props.getTrProps}))},e.prototype.paginationPropsEnhancer=function(e){return e.onFilterChange=this.onFilterChange,e.searchPlaceholder=this.props.searchPlaceholder,e.hidePagination=this.props.elastic,e},e.prototype.getPageSize=function(e){var t=Number.isInteger(this.props.pageSize)?this.props.pageSize:void 0;return this.props.elastic?e:t},e.prototype.getData=function(){return this.props.data.filter(this.rowFilter)},e.prototype.rowFilter=function(t){var n=this;return Object.keys(t).find(function(e){return S(n.state.searchValue,n.stringValue(t[e]))})},e.prototype.onFilterChange=function(e){this.setState({searchValue:e})},e.prototype.getColumns=function(){var e=this.props.columns.map(this.mapColumns);return this.props.columnActions?e.concat([this.getActionsColumn(this.props.columnActions)]):e},e.prototype.mapColumns=function(t){var e=t.renderHeader;return Ht({},t,{id:t.id,sortable:Boolean(t.sortable),accessor:t.accessor||function(e){return e[t.id]},show:!t.hidden,Cell:t.renderCell||this.createDefaultCellRenderer(t),Header:e||function(){return f.createElement("div",null,t.Header," ",f.createElement("span",{className:"header-icon"}))}})},e.prototype.getActionsColumn=function(e){var n=this;return{id:"_actions",sortable:!1,width:Math.max(100,30*e.actions.length),Header:function(){return f.createElement("div",{className:"actions-header"},e.Header)},Cell:function(t){return f.createElement("div",{className:"table-actions-cell"},e.actions.map(function(e){return n.getActionComponent(e,t)}))}}},e.prototype.getActionComponent=function(e,t){var n=t.original,o=f.createElement("button",{key:e.id,type:"button",onClick:function(){return e.onClick(n)},"data-qa":"table--row-"+t.index+"-col-_actions--"+e.id,disabled:"function"==typeof e.disabled?e.disabled(n):e.disabled,className:"action-button "+e.iconClass+" "+this.getVisibleClass(e,n)});return e.tooltip?f.createElement(Nt,{key:e.id,text:e.tooltip,placement:"top"},o):o},e.prototype.getVisibleClass=function(e,t){return("function"==typeof e.hidden?e.hidden(t):e.hidden)?"invisible":""},e.prototype.getSortingRules=function(){return this.props.initiallySortBy?this.props.initiallySortBy.map(function(e){var t;return(t={id:e.column})[e.direction]=!0,t}):[]},e.prototype.stringValue=function(e){return Array.isArray(e)?e.map(this.stringValue).join(", "):String(e)},e}(f.Component),It=function(t){return f.createElement("div",{className:"textarea-component"},f.createElement("textarea",{id:t.id,className:"form-control "+(t.className||""),rows:t.rows||3,onBlur:t.onBlur,onChange:function(e){return t.onChange(e.target.value)},placeholder:t.placeholder,"data-qa":"textarea--element-"+t.id,value:t.value}))},Tt=function(e){var t=e.value?"toggle-on":"toggle-off";return f.createElement("div",null,f.createElement("button",{id:e.id,type:"button",className:"toggle",onClick:function(){return e.onChange(!e.value)},disabled:e.disabled,"data-qa":"toggle-"+e.id},f.createElement("div",{className:"toggle-container toggle-animate "+t,"data-qa":"toggle-container-"+e.id},f.createElement("span",{className:"toggle-left"},e.onLabel),f.createElement("span",{className:"toggle-knob"}),f.createElement("span",{className:"toggle-right"},e.offLabel))),f.createElement("span",{className:"toggle-description"},e.description||""))},qt=(At=function(e,t){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}At(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lt="selected",jt=function(n){function e(e){var t=n.call(this,e)||this;return t.state={isExpanded:!1},t.setNode=t.setNode.bind(t),t.renderItems=t.renderItems.bind(t),t.toggleDropdown=t.toggleDropdown.bind(t),t.handleGlobalClick=t.handleGlobalClick.bind(t),t.collapseDropdownItems=t.collapseDropdownItems.bind(t),t}return qt(e,n),e.prototype.componentWillMount=function(){document.addEventListener("mousedown",this.handleGlobalClick,!1)},e.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleGlobalClick,!1)},e.prototype.render=function(){return f.createElement("div",{ref:this.setNode,className:"dropdown","data-qa":"dropdown-"+this.props.id},f.createElement("button",{"data-qa":"dropdown--toggle-"+this.props.id,onClick:this.toggleDropdown,className:"dropdown-toggle"},f.createElement("span",{className:"text"},this.props.label),f.createElement("span",{className:"arrow"})),this.shouldRenderChildren()&&this.renderItems())},e.prototype.shouldRenderChildren=function(){return this.state.isExpanded&&0<this.props.items.length},e.prototype.renderItems=function(){var t=this;return f.createElement("ul",{className:"dropdown-items","data-qa":"dropdown--items-"+this.props.id},this.props.items.map(function(e){return f.createElement("li",{key:e.id,"data-qa":"dropdown--item-container-"+e.id,className:"dropdown-item-container "+t.determineClasses(e)},e.link?t.renderLink(e):t.renderButton(e))}))},e.prototype.renderLink=function(e){return f.createElement("a",{href:e.link&&e.link.url,target:e.link&&e.link.target,"data-qa":"dropdown--item-"+e.id,className:"dropdown-item"},e.label)},e.prototype.renderButton=function(e){return f.createElement("button",{type:"button",onClick:e.onClick,"data-qa":"dropdown--item-"+e.id,className:"dropdown-item"},e.label)},e.prototype.handleGlobalClick=function(e){this.node.contains(e.target)||this.collapseDropdownItems()},e.prototype.collapseDropdownItems=function(){this.state.isExpanded&&this.toggleDropdown()},e.prototype.setNode=function(e){this.node=e},e.prototype.toggleDropdown=function(){this.setState(function(e){return{isExpanded:!e.isExpanded}})},e.prototype.determineClasses=function(e){var t="";return e.isHeader&&(t+=" header"),e.onClick&&(t+=" has-action"),this.isSelected(e)&&(t+=" "+Lt),t},e.prototype.isSelected=function(e){return this.props.selectedItemWhen&&this.props.selectedItemWhen(e)},e}(f.Component),Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ft=function(e){return f.createElement("a",{href:e.link&&e.link.url,target:e.link&&e.link.target,"data-qa":"navigation--item-"+e.id,className:"navigation-item"},e.label)},Bt=function(e){return f.createElement("button",{type:"button",onClick:e.onClick,"data-qa":"navigation--item-"+e.id,className:"navigation-item"},e.label)},Gt=function(t){return f.createElement("ul",{className:"navigation-items"},t.items.map(function(e){return f.createElement("li",{key:e.id,"data-qa":"navigation--item-container-"+e.id,className:"navigation-item-container "+(t.selectedItemWhen(e)?Lt:"")},e.link?f.createElement(Ft,Mt({},e)):f.createElement(Bt,Mt({},e)))}))},Kt=(Dt=function(e,t){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kt(t,e),t.prototype.render=function(){return f.createElement("div",{className:"topbar","data-qa":"topbar"},f.createElement("div",{className:"left"},f.createElement("div",{className:"topbar-logo"}),f.createElement(Gt,{items:this.props.mainItems,selectedItemWhen:this.props.selectedItemWhen})),f.createElement("div",{className:"right"},f.createElement(jt,{id:"topbar-misc-dropdown",selectedItemWhen:this.props.selectedItemWhen,label:this.props.dropdownLabel,items:this.getSubItems()})))},t.prototype.getSubItems=function(){return this.props.subItems.map(function(e){return Wt({},e,{isHeader:!0})})},t}(f.Component),zt=(Rt=function(e,t){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$t="left",Jt=function(n){function e(e){var t=n.call(this,e)||this;return t.state={leftFilter:"",rightFilter:"",leftHighlighted:[],rightHighlighted:[]},t.addAll=t.addAll.bind(t),t.removeAll=t.removeAll.bind(t),t.isSelected=t.isSelected.bind(t),t.isHighlighted=t.isHighlighted.bind(t),t.isNotSelected=t.isNotSelected.bind(t),t.addHighlighted=t.addHighlighted.bind(t),t.removeHighlighted=t.removeHighlighted.bind(t),t.toggleHighlighted=t.toggleHighlighted.bind(t),t.renderOptionForSide=t.renderOptionForSide.bind(t),t}return zt(e,n),e.prototype.render=function(){return f.createElement("div",{"data-qa":"two-box-multiselect-"+this.props.id,className:"two-box-multiselect"},f.createElement("div",{"data-qa":"two-box-multiselect--left-"+this.props.id,className:"two-box-multiselect-box"},f.createElement("div",{className:"two-box-multiselect-label","data-qa":"two-box-multiselect--left-label-"+this.props.id},this.props.labelLeft),this.renderLeftBox()),f.createElement("div",{"data-qa":"two-box-multiselect--control-"+this.props.id,className:"two-box-multiselect-center"},this.renderControlPanel()),f.createElement("div",{"data-qa":"two-box-multiselect--right-"+this.props.id,className:"two-box-multiselect-box"},f.createElement("div",{className:"two-box-multiselect-label","data-qa":"two-box-multiselect--right-label-"+this.props.id},this.props.labelRight),this.renderRightBox()))},e.prototype.changeFilter=function(e,t){var n=e+"Filter",o=this.createUpdate(n,t.target.value);this.setState(o)},e.prototype.renderControlPanel=function(){return f.createElement("div",{className:"two-box-multiselect-control-panel"},f.createElement("div",{className:"add-buttons"},this.getControlButton(this.addAll,"add-all"),this.getControlButton(this.addHighlighted,"add-highlighted")),f.createElement("div",{className:"remove-buttons"},this.getControlButton(this.removeHighlighted,"remove-highlighted"),this.getControlButton(this.removeAll,"remove-all")))},e.prototype.getControlButton=function(e,t){return f.createElement("button",{type:"button",onClick:e,"data-qa":"two-box-multiselect--"+t+"-"+this.props.id,tabIndex:-1,className:"action-button "+t+"-button"},f.createElement("span",{className:t}))},e.prototype.renderOptions=function(e,t){var n=this;return f.createElement("div",{className:"two-box-multiselect-select-box"},f.createElement("div",{className:"two-box-multiselect-filter-bar"},f.createElement("input",{type:"text","data-qa":"two-box-multiselect--"+t+"-filter-"+this.props.id,onChange:function(e){return n.changeFilter(t,e)},className:"form-control two-box-multiselect-filter",placeholder:this.getFilterPlaceholder(t)}),f.createElement("span",{className:"two-box-multiselect-filter-icon"})),f.createElement("ul",{className:"two-box-option-items option-items-"+t},e.map(this.renderOptionForSide(t,function(e){return n.isHighlighted(n.state,t,e.value)},function(e){return n.toggleHighlighted(t,e)}))))},e.prototype.getFilterPlaceholder=function(e){return e===$t?this.props.filterPlaceholderLeft:this.props.filterPlaceholderRight},e.prototype.renderOptionForSide=function(n,o,i){var r=this;return function(e){var t=o(e);return f.createElement("li",{key:""+e.value,role:"option",onClick:function(){return i(e)},"data-qa":"two-box-multiselect--"+n+"-item-"+e.value,className:"item "+(t?"highlighted":""),"aria-selected":t,onDoubleClick:function(){return r.handleDoubleClick(n,e)}},e.label)}},e.prototype.handleDoubleClick=function(e,t){e===$t?this.addValues([t.value]):this.removeValues([t.value])},e.prototype.removeHighlighted=function(){var t=this,e=this.props.values.filter(function(e){return t.isHighlighted(t.state,"right",e)});this.resetRightHighlighted(),this.removeValues(e)},e.prototype.removeAll=function(){this.resetRightHighlighted(),this.props.onChange([])},e.prototype.resetRightHighlighted=function(){this.setState({rightHighlighted:[]})},e.prototype.addAll=function(){var e=this.props.options.filter(this.isNotSelected).map(function(e){return e.value}).concat(this.props.values);return this.resetLeftHighlighted(),this.props.onChange(e)},e.prototype.addHighlighted=function(){var t=this,e=this.props.options.filter(function(e){return t.isHighlighted(t.state,$t,e.value)}).map(function(e){return e.value});this.resetLeftHighlighted(),this.addValues(e)},e.prototype.resetLeftHighlighted=function(){this.setState({leftHighlighted:[]})},e.prototype.addValues=function(e){var t=this.props.values.concat(e);return this.props.onChange(t)},e.prototype.removeValues=function(t){var e=this.props.values.filter(function(e){return!t.includes(e)});this.props.onChange(e)},e.prototype.isSelected=function(e){return this.props.values.includes(e.value)},e.prototype.isNotSelected=function(e){return!this.isSelected(e)},e.prototype.renderLeftBox=function(){var t=this,e=this.props.options.filter(this.isNotSelected).filter(function(e){return S(t.state.leftFilter,e.label)});return this.renderOptions(e,$t)},e.prototype.renderRightBox=function(){var t=this,e=this.props.options.filter(this.isSelected).filter(function(e){return S(t.state.rightFilter,e.label)});return this.renderOptions(e,"right")},e.prototype.toggleHighlighted=function(o,i){var r=this;this.setState(function(e){var t=r.isHighlighted(e,o,i.value)?r.removeHighlight(e,o,i):r.addHighlight(e,o,i),n=o+"Highlighted";return r.createUpdate(n,t)})},e.prototype.createUpdate=function(e,t){var n={};return n[e]=t,n},e.prototype.isHighlighted=function(e,t,n){return this.getHighlightedCollection(t,e).includes(n)},e.prototype.addHighlight=function(e,t,n){return this.getHighlightedCollection(t,e).concat([n.value])},e.prototype.removeHighlight=function(e,t,n){return this.getHighlightedCollection(t,e).filter(function(e){return n.value!==e})},e.prototype.getHighlightedCollection=function(e,t){return e===$t?t.leftHighlighted:t.rightHighlighted},e}(f.Component);n.d(t,"hasViolations",function(){return d}),n.d(t,"modelWithViolations",function(){return h}),n.d(t,"ViolationSeverity",function(){return a}),n.d(t,"assignTo",function(){return i}),n.d(t,"walkTree",function(){return r}),n.d(t,"Button",function(){return m}),n.d(t,"Checkbox",function(){return g}),n.d(t,"CheckboxTable",function(){return k}),n.d(t,"matches",function(){return S}),n.d(t,"DialogConsumer",function(){return P}),n.d(t,"DialogContext",function(){return D}),n.d(t,"DialogProvider",function(){return R}),n.d(t,"withDialog",function(){return I}),n.d(t,"FieldType",function(){return j}),n.d(t,"Form",function(){return Ie}),n.d(t,"SectionType",function(){return q}),n.d(t,"FormField",function(){return ye}),n.d(t,"Editor",function(){return F}),n.d(t,"Input",function(){return re}),n.d(t,"Label",function(){return E}),n.d(t,"MultiLevelCheckboxEditor",function(){return Qe}),n.d(t,"Notification",function(){return it}),n.d(t,"NotificationTypes",function(){return Le}),n.d(t,"NotificationsConsumer",function(){return ct}),n.d(t,"NotificationsProvider",function(){return st}),n.d(t,"withNotifications",function(){return ut}),n.d(t,"OptionsSlider",function(){return ue}),n.d(t,"RadioGroup",function(){return pt}),n.d(t,"Select",function(){return de}),n.d(t,"StringSelect",function(){return he}),n.d(t,"NumberSelect",function(){return fe}),n.d(t,"Sidebar",function(){return vt}),n.d(t,"Spinner",function(){return yt}),n.d(t,"onOuterClick",function(){return bt}),n.d(t,"Table",function(){return Pt}),n.d(t,"SortingDirection",function(){return nt}),n.d(t,"Textarea",function(){return It}),n.d(t,"Toggle",function(){return Tt}),n.d(t,"Tooltip",function(){return Nt}),n.d(t,"Topbar",function(){return Ut}),n.d(t,"Tree",function(){return mt}),n.d(t,"TwoBoxMultiselect",function(){return Jt}),n.d(t,"getClassByViolations",function(){return ge}),n.d(t,"Violation",function(){return ve})}])});